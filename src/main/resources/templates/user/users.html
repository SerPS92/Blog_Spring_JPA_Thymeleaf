<!DOCTYPE html>

<html lang="en" class="no-js" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Spring Blog</title>
	<link th:href="@{/css/media_query.css}" rel="stylesheet" type="text/css"/>
	<link th:href="@{/css/bootstrap.css}" rel="stylesheet" type="text/css"/>
	<link th:href="@{https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css}" rel="stylesheet"
	      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<link th:href="@{/css/animate.css}" rel="stylesheet" type="text/css"/>
	<link th:href="@{https://fonts.googleapis.com/css?family=Poppins}" rel="stylesheet">
	<link th:href="@{/css/owl.carousel.css}" rel="stylesheet" type="text/css"/>
	<link th:href="@{/css/owl.theme.default.css}" rel="stylesheet" type="text/css"/>
	<!-- Bootstrap CSS -->
	<link th:href="@{/css/style_1.css}" rel="stylesheet" type="text/css"/>
	<!-- Modernizr JS -->
	<script th:src="@{/js/modernizr-3.5.0.min.js}"></script>
</head>
<body>

<div th:insert="~{/templates/user_template.html::header_admin}"></div>

<div class="container">
	<br>
	<a th:href="@{/user/create}" class="btn"
	   style="background-color: #f5bc04; color: #FFFFFF; padding: 10px 15px;
	   border-radius: 5px; text-decoration: none; display: inline-block;">Add
	</a>
	<br></br>
	
	
	<table class="table">
		<thead>
		<tr>
			<th scope="col">Name</th>
			<th scope="col">Username</th>
			<th scope="col">Type</th>
			<th scope="col">Registration date</th>
			<th scope="col">Email</th>
			<th scope="col">Phone</th>
		</tr>
		</thead>
		<tbody>
		<tr th:each="user:${users}">
			<td th:text="${user.name}"></td>
			<td th:text="${user.username}"></td>
			<td th:text="${user.type}"></td>
			<td th:text="${#dates.format(user.registrationDate, 'dd/MM/yyyy')}"></td>
			<td th:text="${user.email}"></td>
			<td th:text="${user.phone}"></td>
			<td>
				<div class="btn-group">
					<button type="button" class="btn btn-primary" style="background-color: #f5bc04; color: #FFFFFF;
					padding: 5px 5px; border-radius: 5px; text-decoration: none; display: inline-block;"
					        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Actions
					</button>
					<div class="dropdown-menu">
						<a class="dropdown-item"
						   th:href="@{/user/edit/{id} (id = ${user.id})}">
							Edit</a>
						<a class="dropdown-item"
						   th:href="@{/user/delete/{id} (id = ${user.id})}">
							Delete</a>
					</div>
				</div>
			</td>
		</tr>
		</tbody>
		
		<div th:if="${usersNumber > 0}">
			<nav aria-label="Page navigation">
				<ul class="pagination">
					<div th:if="${currentPage > 0}">
						<li class="page-item">
							<a class="page-link"
							   th:href="@{/user/users(page=${currentPage - 1})}"
							   aria-label="Previous">
								<span aria-hidden="true">&laquo;</span>
							</a>
						</li>
					</div>
					<div th:if="${currentPage == 0}">
						<li class="page-item">
							<a class="page-link" href="" aria-label="Previous">
								<span aria-hidden="true">&laquo;</span>
							</a>
						</li>
					</div>
					<th:block th:each="pageNumber : ${#numbers.sequence(0, totalPages - 1)}"
					          th:if="${pageNumber >= currentPage - 2 and pageNumber <= currentPage + 2}">
						<li th:class="${pageNumber == currentPage} ? 'page-item active' : 'page-item'">
							<a class="page-link" style="background-color: #f5bc04; color: #FFFFFF;"
							   th:href="@{/user/users(page=${pageNumber})}"
							   th:text="${pageNumber + 1}"></a>
						</li>
					</th:block>
					<div th:if="${currentPage < totalPages -1}">
						<li class="page-item">
							<a class="page-link"
							   th:href="@{/user/users(page=${currentPage + 1})}"
							   aria-label="Next">
								<span aria-hidden="true">&raquo;</span>
							</a>
						</li>
					</div>
				</ul>
			</nav>
		</div>
	</table>

</div>

<div th:insert="~{/templates/user_template.html::footer}"></div>

<div class="gototop js-top">
	<a href="#" class="js-gotop"><i class="fa fa-arrow-up"></i></a>
</div>

<script th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js}"></script>
<script th:src="@{/js/owl.carousel.min.js}"></script>
<!--<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>-->
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js}"
        integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
<script th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js}"
        integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
        crossorigin="anonymous"></script>
<!-- Waypoints -->
<script th:src="@{/js/jquery.waypoints.min.js}"></script>
<!-- Main -->
<script th:src="@{/js/main.js}"></script>

</body>
</html>